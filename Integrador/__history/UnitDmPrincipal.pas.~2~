unit UnitDmPrincipal;

interface

uses
  System.SysUtils, System.Classes, Data.DB, Datasnap.DBClient;

type
  TdmPrincipal = class(TDataModule)
    CdsProduto: TClientDataSet;
    CdsProdutoID: TIntegerField;
    CdsProdutoDESCRICAO: TStringField;
    CdsProdutoPRECO: TFloatField;
    CdsProdutoIMAGEM: TStringField;
    CdsCores: TClientDataSet;
    CdsCoresID: TIntegerField;
    CdsCoresDESCRICAO: TStringField;
    CdsCoresIMAGEM: TStringField;
    CdsCoresPRODUTO_ID: TIntegerField;
    dsCores: TDataSource;
    dsProduto: TDataSource;
    CdsCadastroProduto: TClientDataSet;
    CdsCadastroCor: TClientDataSet;
    dsCadastroCor: TDataSource;
    dsCadastroProduto: TDataSource;
    CdsCadastroProdutoID: TIntegerField;
    CdsCadastroProdutoDESCRICAO: TStringField;
    CdsCadastroProdutoIMAGEM: TStringField;
    CdsCadastroProdutoPRECO: TFloatField;
    CdsCadastroCorID: TIntegerField;
    CdsCadastroCorDESCRICAO: TStringField;
    CdsCadastroCorIMAGEM: TStringField;
    CdsCadastroCorPRODUTO_ID: TIntegerField;
    procedure DataModuleCreate(Sender: TObject);
    procedure CdsCadastroProdutoNewRecord(DataSet: TDataSet);
    procedure CdsCadastroCorNewRecord(DataSet: TDataSet);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  dmPrincipal: TdmPrincipal;

implementation

{%CLASSGROUP 'Vcl.Controls.TControl'}

{$R *.dfm}

procedure TdmPrincipal.CdsCadastroCorNewRecord(DataSet: TDataSet);
begin
  CdsCadastroCorID.AsInteger := CdsCoresID.AsInteger + 1;
end;

procedure TdmPrincipal.CdsCadastroProdutoNewRecord(DataSet: TDataSet);
begin
  CdsCadastroProdutoID.AsInteger :=  CdsProdutoID.AsInteger + 1;
end;

procedure TdmPrincipal.DataModuleCreate(Sender: TObject);
begin
  CdsProduto.CreateDataSet;
  CdsCores.CreateDataSet;
  CdsCadastroProduto.CreateDataSet;
  CdsCadastroCor.CreateDataSet;
end;

end.
